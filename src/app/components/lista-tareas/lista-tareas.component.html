
<div>
  <mat-toolbar>
    <mat-toolbar-row>
      <span>Lista de Tareas</span>
      <button mat-button (click)="redirectToCreateTask()" class="custom-button-task" fxFlex="none" fxLayoutAlign="end">Crear Nueva Tarea</button>
    </mat-toolbar-row>
  </mat-toolbar>

  <mat-tab-group (selectedTabChange)="onTabChange($event)">
    <mat-tab label="Todas" (click)="setFilter('all')" [class.active]="filter === 'all'"></mat-tab>
    <mat-tab label="Completadas" (click)="setFilter('completed')" [class.active]="filter === 'completed'"></mat-tab>
    <mat-tab label="Pendientes" (click)="setFilter('pending')" [class.active]="filter === 'pending'"></mat-tab>
  </mat-tab-group>


  <mat-card>
    <mat-card-content>
      <ul>
        <li *ngFor="let task of filterTasks(); let i = index">
          <mat-checkbox [checked]="task.completed" (change)="toggleCompletion(task.id)"></mat-checkbox>
          {{ task.title }}
          <div class="task-body">
            <strong>Personas Asociadas:</strong>
            <ul>
              <li *ngFor="let person of task.people">
                - {{ person.fullName }} <span class="age">({{ person.age }})</span>
                <br/>
                Habilidades: {{ person.skills.join(', ') }}
              </li>
            </ul>
          </div>
        </li>
      </ul>
    </mat-card-content>
  </mat-card>
</div>
